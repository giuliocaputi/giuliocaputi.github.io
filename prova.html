<!doctype html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>Giulio Caputi — Interactive CV</title>
  <style>
    :root { --bg:#0b0b0c; --card:rgba(18,18,22,.55); --card-blur:10px; --text:#f6f7fb; --muted:#b7bbc7; --accent:#ed18c6; --accent-10:rgba(237,24,198,.1); --accent-20:rgba(237,24,198,.2); --surface:#0e0f13; }
    :root[data-theme="light"] { --bg:#f7f7fb; --card:rgba(255,255,255,.6); --text:#15171a; --muted:#5a6270; --surface:#fff; }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;color:var(--text);font:500 16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,"Helvetica Neue",Arial;overflow:hidden;background:var(--bg);}
    /* Background with Ken Burns + parallax */
    :root { --bgx:0px; --bgy:0px; --bgscale:1.05; }
    @keyframes bg-drift { 0%{transform:translate3d(var(--bgx),var(--bgy),0) scale(1.04)} 50%{transform:translate3d(var(--bgx),var(--bgy),0) scale(1.08)} 100%{transform:translate3d(var(--bgx),var(--bgy),0) scale(1.04)} }
    body::before{
      content:""; position:fixed; inset:0; z-index:-1;
      background-image:url('https://i.ibb.co/HHpt5jF/cosmic-bg.webp');
      background-size:cover; background-position:center; background-repeat:no-repeat;
      will-change: transform; animation:bg-drift 60s ease-in-out infinite;
      transform: translate3d(var(--bgx), var(--bgy), 0) scale(var(--bgscale));
      filter:saturate(1.05) brightness(1.02);
    }
    body::after{content:"";position:fixed;inset:0;z-index:-1;background:radial-gradient(80% 80% at 50% 50%,rgba(0,0,0,0) 40%,rgba(0,0,0,.35) 100%);}
    /* Header + avatar */
    .header{position:fixed;inset:0 0 auto 0;height:64px;display:flex;align-items:center;justify-content:space-between;padding:0 18px 0 88px;z-index:50;backdrop-filter:blur(8px);background:linear-gradient(180deg, rgba(0,0,0,.35), transparent)}
    :root[data-theme="light"] .header{background:linear-gradient(180deg, rgba(255,255,255,.7), transparent)}
    .brand{display:flex;align-items:center;gap:12px;font-weight:700}
    .brand .dot{width:10px;height:10px;border-radius:50%;background:var(--accent);box-shadow:0 0 0 6px var(--accent-10)}
    .nav-actions{display:flex;align-items:center;gap:8px}
    button.icon{border:1px solid var(--accent-20);background:var(--card);color:var(--text);padding:10px 12px;border-radius:12px;cursor:pointer;backdrop-filter:blur(var(--card-blur));}
    .avatar{position:fixed;inset:12px auto auto 12px;z-index:60;width:56px;height:56px;border-radius:50%;box-shadow:0 12px 28px rgba(237,24,198,.25);border:2px solid var(--accent-20);background:radial-gradient(circle at 35% 30%, #ffd1f7, #ed18c6)}
    /* Grid menu */
    main{position:relative;z-index:1;height:100vh;display:grid;grid-template-rows:64px 1fr; padding-top:64px;}
    .grid{height:100%;display:grid;grid-template-columns:repeat(12,1fr);gap:16px;padding:20px;align-content:center}
    .card{background:var(--card);backdrop-filter:blur(var(--card-blur));border:1px solid var(--accent-20);border-radius:16px;position:relative;overflow:hidden;display:flex;flex-direction:column;justify-content:space-between;min-height:150px;box-shadow:0 10px 30px rgba(0,0,0,.3);transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;}
    .card:hover{transform:translateY(-3px);box-shadow:0 20px 60px rgba(237,24,198,.25);border-color:var(--accent)}
    .card .age{position:absolute;top:10px;right:10px;background:var(--accent);color:#fff;font-weight:800;font-size:12px;letter-spacing:.4px;padding:6px 10px;border-radius:999px;box-shadow:0 10px 22px rgba(237,24,198,.4)}
    .card .content{padding:16px}
    .card h3{margin:0 0 8px 0;font-size:18px;line-height:1.2}
    .card .meta{color:var(--muted);font-size:13px;margin-bottom:8px}
    .card .cta{display:flex;gap:8px;align-items:center;padding:12px 16px;border-top:1px solid var(--accent-20);font-size:13px;color:var(--text)}
    .card .cta button{all:unset;cursor:pointer;padding:6px 10px;border-radius:10px;border:1px solid var(--accent-20);background:rgba(0,0,0,.15);}
    .span-4{grid-column:span 4} .span-3{grid-column:span 3} .span-6{grid-column:span 6} .span-8{grid-column:span 8} .span-12{grid-column:span 12}
    @media (max-width:1100px){ .grid{grid-template-columns:repeat(8,1fr)} .span-8{grid-column:span 8} .span-6{grid-column:span 8} .span-4{grid-column:span 4} .span-3{grid-column:span 4} }
    @media (max-width:700px){ .grid{grid-template-columns:repeat(4,1fr)} .span-8,.span-6,.span-4,.span-3{grid-column:span 4} }
    #detailCard{position:fixed;inset:auto 18px 18px 18px;z-index:40;background:linear-gradient(180deg, rgba(18,18,22,.85), rgba(18,18,22,.7));backdrop-filter:blur(12px);border:1px solid var(--accent-20);border-radius:18px;box-shadow:0 10px 30px rgba(0,0,0,.35);transform:translateY(120%);opacity:0;transition:transform 600ms cubic-bezier(.2,.8,.2,1), opacity 600ms ease;max-width:900px;margin:0 auto;padding:18px 20px}
    #detailCard.show{transform:translateY(0%);opacity:1}
    #detailCard h2{margin:0 0 6px;font-size:22px}
    #detailCard .meta{color:var(--muted);margin-bottom:12px;font-size:14px}
    #detailCard ul{margin:8px 0 0 20px;padding:0}
    #detailCard li{margin:8px 0}
    .hint{position:fixed;inset:auto auto 24px 24px;z-index:45;background:rgba(0,0,0,.35);color:#fff;padding:8px 12px;border-radius:10px;font-size:12px;border:1px solid rgba(255,255,255,.1)}
  </style>
</head>
<body>
  <div class="avatar" title="Giulio Caputi"></div>
  <header class="header">
    <div class="brand"><span class="dot"></span><span>Giulio Caputi — Interactive CV</span></div>
    <div class="nav-actions">
      <button id="themeBtn" class="icon">Toggle Theme</button>
    </div>
  </header>

  <main>
    <section class="grid" id="grid"></section>
  </main>

  <aside id="detailCard">
    <h2>—</h2><div class="meta">—</div><ul></ul>
  </aside>

  <div class="hint">Tap a card for details • Theme toggle top-right • Pink accent: #ed18c6</div>

  <script>
    const TIMELINE = [
      {id:"rome",title:"Rome",subtitle:"Home town",location:"Rome, Italy",period:"0–18 years",age:"0–18",details:["Born and raised in Rome, Italy (0–18)."]},
      {id:"bocconi",title:"Bocconi University — BSc",subtitle:"110/110 Cum Laude",location:"Milan, Italy",period:"Sep 2021 – Jul 2024",age:"18–21",details:["Thesis: Bayesian Optimization for Database Management."]},
      {id:"amazon",title:"Amazon — BIE Intern",subtitle:"Jun 2023 – Nov 2023",location:"Luxembourg",period:"Jun 2023 – Nov 2023",age:"20–21",details:["Forecasting demand & Bayesian optimization for DB systems."]},
      {id:"oxford",title:"University of Oxford — MSc Statistics",subtitle:"Sep 2024 – Sep 2025",location:"Oxford, UK",period:"Sep 2024 – Sep 2025",age:"21–22",details:["MSc thesis: Forecasting Stock Market Volatility with ML."]}
    ];
    const spans = ['span-6','span-3','span-3','span-6'];

    const grid = document.getElementById('grid');
    TIMELINE.forEach((item,i)=>{
      const el=document.createElement('article');
      el.className='card '+spans[i%spans.length];
      el.innerHTML=`
        <span class="age">${item.age}</span>
        <div class="content">
          <h3>${item.title}</h3>
          <div class="meta">${item.location} • ${item.period}</div>
          <div class="meta">${item.subtitle||''}</div>
        </div>
        <div class="cta"><button>More</button></div>
      `;
      el.querySelector('button').addEventListener('click',()=>showDetails(item));
      el.addEventListener('click',e=>{if(e.target.tagName!=='BUTTON') showDetails(item)});
      grid.appendChild(el);
    });

    const detail=document.getElementById('detailCard');
    const titleEl=detail.querySelector('h2');
    const metaEl=detail.querySelector('.meta');
    const listEl=detail.querySelector('ul');
    function showDetails(item){
      titleEl.textContent=item.title;
      metaEl.textContent=`${item.location} • ${item.period} • Age ${item.age}`+(item.subtitle?' • '+item.subtitle:'');
      listEl.innerHTML=item.details.map(d=>'<li>'+d+'</li>').join('');
      detail.classList.add('show');
    }
    document.addEventListener('click',e=>{
      if(detail.classList.contains('show')&&!detail.contains(e.target)&&!e.target.closest('.card')){
        detail.classList.remove('show');
      }
    });

    // Theme toggle
    const THEME_KEY="theme-preference";
    function getPreferredTheme(){const s=localStorage.getItem(THEME_KEY);if(s)return s;return matchMedia('(prefers-color-scheme: light)').matches?'light':'dark'}
    function setTheme(t){document.documentElement.setAttribute('data-theme',t);localStorage.setItem(THEME_KEY,t)}
    function toggleTheme(){setTheme(getPreferredTheme()==='light'?'dark':'light')}
    setTheme(getPreferredTheme());
    document.getElementById('themeBtn').addEventListener('click',toggleTheme);

    // Parallax
    (function(){
      const root=document.documentElement;
      let targetX=0,targetY=0,curX=0,curY=0;
      const maxShift=14;
      function anim(){curX+=(targetX-curX)*0.06;curY+=(targetY-curY)*0.06;root.style.setProperty('--bgx',curX+'px');root.style.setProperty('--bgy',curY+'px');requestAnimationFrame(anim)}
      function onMove(e){const cx=innerWidth/2,cy=innerHeight/2;const dx=(e.clientX-cx)/cx,dy=(e.clientY-cy)/cy;targetX=-dx*maxShift;targetY=-dy*maxShift}
      addEventListener('mousemove',onMove,{passive:true});
      anim();
    })();
  </script>
</body>
</html>
